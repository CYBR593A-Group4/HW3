<?xml version="1.0"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>StatSVN - Directory framework/modules/geronimo-deployment/src/main/java/org/apache/geronimo/deployment/util/</title>
 <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"/>
    <meta name="Generator" content="StatSVN @VERSION@"/>
<link rel="stylesheet" href="objectlab-statcvs.css" type="text/css"/>
<script type="text/javascript" charset="utf-8" src="http://bit.ly/javascript-api.js?version=latest&#38;login=statsvn&#38;apiKey=R_2c362b417d0517c27876cbaca1bb68cc"></script>
<script type="text/javascript" charset="utf-8">
   // wait until page is loaded to call API
   var redir_url;
   var short_url;
   BitlyCB.myShortenCallback = function(data) {
      // this is how to get a result of shortening a single url
      var result;
      short_url=null;
      for (var r in data.results) {
         result = data.results[r];
         result['longUrl'] = r;
         short_url = result['shortUrl'];
         break;
      }
      if (short_url==null) // bit.ly failed
      document.location=redir_url;
      else
      redirToTwitter();
   };
   function shortenTweet(url) {
      if (short_url == null || redir_url!=url) {
      redir_url = url;
      BitlyClient.shorten(document.location, 'BitlyCB.myShortenCallback');
      }
      else
      redirToTwitter();
      return false;
   }
   function redirToTwitter() { 
      // replace {0} which is visible as %7B0} in the link
      document.location = redir_url.replace('%7B0}', short_url);
   }
</script>
  </head>

<body>

<h1>Directory framework/modules/geronimo-deployment/src/main/java/org/apache/geronimo/deployment/util/</h1>
<div id="parentlink">&#171; <a href="index.html">Development Statistics for /geronimo/server/trunk</a></div>
<dl class="attributes">
    <dt>Total Files:</dt>
    <dd>3</dd>
    <dt>Deleted Files:</dt>
    <dd>5</dd>
    <dt>Lines of Code:</dt>
    <dd>205</dd>
</dl>
<p class="dirtree">
<a href="dir.html">[root]</a>/<a href="dir_framework.html">framework</a>/<a href="dir_framework_modules.html">modules</a>/<a href="dir_framework_modules_geronimo-deployment.html">geronimo-deployment</a>/<a href="dir_framework_modules_geronimo-deployment_src.html">src</a>/<a href="dir_framework_modules_geronimo-deployment_src_main.html">main</a>/<a href="dir_framework_modules_geronimo-deployment_src_main_java.html">java</a>/<a href="dir_framework_modules_geronimo-deployment_src_main_java_org.html">org</a>/<a href="dir_framework_modules_geronimo-deployment_src_main_java_org_apache.html">apache</a>/<a href="dir_framework_modules_geronimo-deployment_src_main_java_org_apache_geronimo.html">geronimo</a>/<a href="dir_framework_modules_geronimo-deployment_src_main_java_org_apache_geronimo_deployment.html">deployment</a>/<strong>util</strong><br/>
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<img src="folder.png" width="15" height="13" alt="directory in repo" title="directory in repo"/> 
<a href="dir_framework_modules_geronimo-deployment_src_main_java_org_apache_geronimo_deployment_util_osgi.html">osgi</a> 
(6 files, 646 lines)<br />
</p>

<div class="section">
<h2>Lines of Code</h2>
<p class="chart"><img src="loc_module_framework_modules_geronimo-deployment_src_main_java_org_apache_geronimo_deployment_util.png" alt="framework/modules/geronimo-deployment/src/main/java/org/apache/geronimo/deployment/util/ Lines of Code" width="800" height="500" /></p></div>
<div class="section">
<h2>Developers</h2>
  <table  rules="groups" summary="All authors and the number of their changes and lines of code in this directory">
    <colgroup align="left"/>
    <colgroup align="right"/>
    <colgroup align="right"/>
    <colgroup align="right"/>
    <thead>
      <tr>
        <th>Author</th>
        <th>Changes</th>
        <th>Lines of Code</th>
        <th>Lines per Change</th>
      </tr>
    </thead>
    <tfoot>
      <tr>
        <th>Totals</th>
        <td>30 (100.0%)</td>
        <td>122 (100.0%)</td>
        <td>4.0</td>
      </tr>
    </tfoot>
    <tbody>
      <tr  class="odd">
        <th><a href="user_vamsic007.html" class="author">vamsic007</a></th>
        <td>8 (26.7%)</td>
        <td>60 (49.2%)</td>
        <td>7.5</td>
      </tr>
      <tr  class="even">
        <th><a href="user_djencks.html" class="author">djencks</a></th>
        <td>8 (26.7%)</td>
        <td>59 (48.4%)</td>
        <td>7.3</td>
      </tr>
      <tr  class="odd">
        <th><a href="user_jbohn.html" class="author">jbohn</a></th>
        <td>2 (6.7%)</td>
        <td>2 (1.6%)</td>
        <td>1.0</td>
      </tr>
      <tr  class="even">
        <th><a href="user_xuhaihong.html" class="author">xuhaihong</a></th>
        <td>12 (40.0%)</td>
        <td>1 (0.8%)</td>
        <td>0.0</td>
      </tr>
    </tbody>
  </table>

</div>
<div class="section">
<h2>Most Recent Commits</h2>
<dl class="commitlist">
  <dt><a name="11"></a>
    <a href="user_xuhaihong.html" class="author">xuhaihong</a>
    <span class="date">2011-07-08 09:24</span>
    <span class="revisionNumberOuter">Rev.: <span class="revisionNumberInner">1144307</span></span>
  </dt>
  <dd>
    <p class="comment">
GERONIMO-6058 Replace StringBuffer usage with StringBuilder
    </p>
    <p class="commitdetails"><strong>1</strong> lines of code changed in <span class="files">1 file</span>:</p>
    <ul class="commitdetails">
      <li>
        <strong>framework/modules/geronimo-deployment/src/main/java/org/apache/geronimo/deployment/util</strong>:
        XMLUtil.java&#160;<span class="change">(+1&#160;-1)</span>
      </li>
    </ul>
  </dd>

  <dt><a name="10"></a>
    <a href="user_xuhaihong.html" class="author">xuhaihong</a>
    <span class="date">2010-01-06 03:29</span>
    <span class="revisionNumberOuter">Rev.: <span class="revisionNumberInner">896339</span></span>
  </dt>
  <dd>
    <p class="comment">
GERONIMO-5008 Create util methods for all the Geronimo components
    </p>
    <p class="commitdetails"><strong>0</strong> lines of code changed in <span class="files">11 files</span>:</p>
    <ul class="commitdetails">
      <li>
        <strong>framework/modules/geronimo-deployment/src/main/java/org/apache/geronimo/deployment/util</strong>:
        DeploymentUtil.java&#160;<span class="del">(del)</span>,
        NestedJarEntry.java&#160;<span class="del">(del)</span>,
        NestedJarFile.java&#160;<span class="del">(del)</span>,
        URLInfo.java&#160;<span class="change">(changed)</span>,
        UnclosableInputStream.java&#160;<span class="new">(new)</span>,
        UnpackedJarEntry.java&#160;<span class="del">(del)</span>,
        UnpackedJarFile.java&#160;<span class="del">(del)</span>,
        XMLUtil.java&#160;<span class="new">(new)</span>
      </li>
    </ul>
  </dd>

  <dt><a name="9"></a>
    <a href="user_djencks.html" class="author">djencks</a>
    <span class="date">2009-10-16 16:31</span>
    <span class="revisionNumberOuter">Rev.: <span class="revisionNumberInner">826073</span></span>
  </dt>
  <dd>
    <p class="comment">
GERONIMO-4916 step 2 move sandbox osgi framework into trunk
    </p>
    <p class="commitdetails"><strong>59</strong> lines of code changed in <span class="files">3 files</span>:</p>
    <ul class="commitdetails">
      <li>
        <strong>framework/modules/geronimo-deployment/src/main/java/org/apache/geronimo/deployment/util</strong>:
        DeploymentUtil.java&#160;<span class="new">(new&#160;56)</span>,
        NestedJarFile.java&#160;<span class="new">(new&#160;2)</span>,
        UnpackedJarFile.java&#160;<span class="new">(new&#160;1)</span>
      </li>
    </ul>
  </dd>

  <dt><a name="8"></a>
    <a href="user_djencks.html" class="author">djencks</a>
    <span class="date">2009-10-16 16:30</span>
    <span class="revisionNumberOuter">Rev.: <span class="revisionNumberInner">826072</span></span>
  </dt>
  <dd>
    <p class="comment">
GERONIMO-4916 step 1 remove old framwork
    </p>
    <p class="commitdetails"><strong>0</strong> lines of code changed in <span class="files">3 files</span>:</p>
    <ul class="commitdetails">
      <li>
        <strong>framework/modules/geronimo-deployment/src/main/java/org/apache/geronimo/deployment/util</strong>:
        DeploymentUtil.java&#160;<span class="del">(del)</span>,
        NestedJarFile.java&#160;<span class="del">(del)</span>,
        UnpackedJarFile.java&#160;<span class="del">(del)</span>
      </li>
    </ul>
  </dd>

  <dt><a name="7"></a>
    <a href="user_jbohn.html" class="author">jbohn</a>
    <span class="date">2008-12-15 10:30</span>
    <span class="revisionNumberOuter">Rev.: <span class="revisionNumberInner">726699</span></span>
  </dt>
  <dd>
    <p class="comment">
GERONIMO-4467 Fix NPE - patch by Shawn Jiang - thanks
    </p>
    <p class="commitdetails"><strong>2</strong> lines of code changed in <span class="files">2 files</span>:</p>
    <ul class="commitdetails">
      <li>
        <strong>framework/modules/geronimo-deployment/src/main/java/org/apache/geronimo/deployment/util</strong>:
        NestedJarFile.java&#160;<span class="change">(+1&#160;-1)</span>,
        UnpackedJarFile.java&#160;<span class="change">(+1&#160;-1)</span>
      </li>
    </ul>
  </dd>

  <dt><a name="6"></a>
    <a href="user_vamsic007.html" class="author">vamsic007</a>
    <span class="date">2008-02-01 17:29</span>
    <span class="revisionNumberOuter">Rev.: <span class="revisionNumberInner">617659</span></span>
  </dt>
  <dd>
    <p class="comment">
GERONIMO-3764 DeployerReaper fails to cleanup the temp directories left behind by deployer<br />
 o Offline deployer leaves temporary files behind since using URLs with "jar" protocol locks the jar file and prevents deletion.  This is prevented by creating a temporary file when the protocol is "jar".<br />
 o This behaviour is controlled using a system property "org.apache.geronimo.deployment.util.DeploymentUtil.jarUrlRewrite" which is false by default, meaning no change from existing behavior for online-deployer.<br />
 o Offline deployer sets the system property to true.<br />
 o See <a href="http://www.mail">http://www.mail</a>-archive.com/dev@geronimo.apache.org/msg55811.html
    </p>
    <p class="commitdetails"><strong>21</strong> lines of code changed in <span class="files">1 file</span>:</p>
    <ul class="commitdetails">
      <li>
        <strong>framework/modules/geronimo-deployment/src/main/java/org/apache/geronimo/deployment/util</strong>:
        DeploymentUtil.java&#160;<span class="change">(+21&#160;-1)</span>
      </li>
    </ul>
  </dd>

  <dt><a name="5"></a>
    <a href="user_vamsic007.html" class="author">vamsic007</a>
    <span class="date">2008-01-25 20:55</span>
    <span class="revisionNumberOuter">Rev.: <span class="revisionNumberInner">615417</span></span>
  </dt>
  <dd>
    <p class="comment">
GERONIMO-3764 Deployer fails to cleanup the temp files created during deployment process<br />
 o NestedJarFile should close the baseJar only if it is created by itself.<br />
 o This is sort of correcting the previous rev 615389 which may close the parent jar in one case (I doubt if we will be hitting that instance in Geronimo, but just to keep things straight...)
    </p>
    <p class="commitdetails"><strong>2</strong> lines of code changed in <span class="files">1 file</span>:</p>
    <ul class="commitdetails">
      <li>
        <strong>framework/modules/geronimo-deployment/src/main/java/org/apache/geronimo/deployment/util</strong>:
        NestedJarFile.java&#160;<span class="change">(+2&#160;-1)</span>
      </li>
    </ul>
  </dd>

  <dt><a name="4"></a>
    <a href="user_vamsic007.html" class="author">vamsic007</a>
    <span class="date">2008-01-25 19:06</span>
    <span class="revisionNumberOuter">Rev.: <span class="revisionNumberInner">615389</span></span>
  </dt>
  <dd>
    <p class="comment">
GERONIMO-3764 Deployer fails to cleanup the temp files created during deployment process<br />
 o NestedJarFile should close the baseJar irrespective of whether it is packed or not.  In case of inPlace deployment of an ear file, not closing baseJar is resulting in a lock on DUMMY_JAR_FILE.
    </p>
    <p class="commitdetails"><strong>1</strong> lines of code changed in <span class="files">1 file</span>:</p>
    <ul class="commitdetails">
      <li>
        <strong>framework/modules/geronimo-deployment/src/main/java/org/apache/geronimo/deployment/util</strong>:
        NestedJarFile.java&#160;<span class="change">(+1&#160;-1)</span>
      </li>
    </ul>
  </dd>

  <dt><a name="3"></a>
    <a href="user_vamsic007.html" class="author">vamsic007</a>
    <span class="date">2008-01-25 09:53</span>
    <span class="revisionNumberOuter">Rev.: <span class="revisionNumberInner">615225</span></span>
  </dt>
  <dd>
    <p class="comment">
GERONIMO-3764 Deployer fails to cleanup the temp files created during deployment process<br />
 o When url.openStream() is used to read an individual file from an archive i.e. when protocol is "jar", the archive file is locked even after the stream is closed and it prevents immediate deletion of temporary files created during the deployment process.  This can be avoided by using JarFile.getInputStream() instead.<br />

    </p>
    <p class="commitdetails"><strong>36</strong> lines of code changed in <span class="files">1 file</span>:</p>
    <ul class="commitdetails">
      <li>
        <strong>framework/modules/geronimo-deployment/src/main/java/org/apache/geronimo/deployment/util</strong>:
        DeploymentUtil.java&#160;<span class="change">(+36&#160;-4)</span>
      </li>
    </ul>
  </dd>

  <dt><a name="2"></a>
    <a href="user_vamsic007.html" class="author">vamsic007</a>
    <span class="date">2008-01-25 03:24</span>
    <span class="revisionNumberOuter">Rev.: <span class="revisionNumberInner">615134</span></span>
  </dt>
  <dd>
    <p class="comment">
GERONIMO-3764 DeployerReaper fails to cleanup the temp directories left behind by deployer<br />
 o NestedJarFile and UnpackedJarFile should call super.close() to release lock on DUMMY_JAR_FILE used in constructor.
    </p>
    <p class="commitdetails"><strong>0</strong> lines of code changed in <span class="files">4 files</span>:</p>
    <ul class="commitdetails">
      <li>
        <strong>framework/modules/geronimo-deployment/src/main/java/org/apache/geronimo/deployment/util</strong>:
        NestedJarFile.java&#160;<span class="change">(changed)</span>,
        UnpackedJarFile.java&#160;<span class="change">(changed)</span>
      </li>
    </ul>
  </dd>

  <dt><a name="1"></a>
    <a href="user_djencks.html" class="author">djencks</a>
    <span class="date">2007-12-17 05:06</span>
    <span class="revisionNumberOuter">Rev.: <span class="revisionNumberInner">604800</span></span>
  </dt>
  <dd>
    <p class="comment">
GERONIMO-3710 fix CCE through the miracle of generics and a bit of cleanup
    </p>
    <p class="commitdetails"><strong>0</strong> lines of code changed in <span class="files">2 files</span>:</p>
    <ul class="commitdetails">
      <li>
        <strong>framework/modules/geronimo-deployment/src/main/java/org/apache/geronimo/deployment/util</strong>:
        DeploymentUtil.java&#160;<span class="new">(new)</span>
      </li>
    </ul>
  </dd>

</dl>

</div><div id="generatedby">Generated by <a href="http://www.statsvn.org">StatSVN</a> @VERSION@</div>
</body>
</html>